<div #container class="container1">
  <div class="row align-items-end">
    <div class="col-md-12 col-lg-12" [ngClass]="routeAnimationsElements">
      <mat-card>
        <mat-card-title><code><mat-checkbox (change)="toggleHideZero()" [(ngModel)]="filterZero">HideZero</mat-checkbox></code>实时游戏监控</mat-card-title>
        
        <mat-card-content>
          <mat-accordion class="headers-align" multi="true">
            <mat-expansion-panel expanded="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  SRS
                </mat-panel-title>
                <mat-panel-description>
                  系统资源档位显示和设置
                </mat-panel-description>
              </mat-expansion-panel-header>
              <mat-card class="srs">
                <mat-card-title>
                  srs_cpulevel
                </mat-card-title>
                <table mat-table [dataSource]="cpusrs$|async" matSort class="srstable">
                  <!-- id Column -->
                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                  </ng-container>
                  <!-- min Column -->
                  <ng-container matColumnDef="min">
                    <th mat-header-cell *matHeaderCellDef> Min </th>
                    <td mat-cell *matCellDef="let element"> 
                      <mat-form-field floatLabel="never">
                        <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'min'))" increase="1" decrease="1"  [(value)]="element.min"></uix-mat-number-spinner>
                        <input matInput type="number" placeholder="Min" [value]="element.min" [(ngModel)]="element.min" (change)="onValueChange(element)">
                      </mat-form-field>
                    </td>
                  </ng-container>
                
                  <!-- max Column -->
                  <ng-container matColumnDef="max">
                    <th mat-header-cell *matHeaderCellDef> Max </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field floatLabel="never">
                          <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'max'))" increase="1" decrease="1" [(value)]="element.max"></uix-mat-number-spinner>
                        <input matInput type="number" placeholder="Max" [value]="element.max" [(ngModel)]="element.max" (change)="onValueChange(element)">
                      </mat-form-field>
                    </td>
                  </ng-container>
                
                  <!-- timeout Column -->
                  <ng-container matColumnDef="timeout">
                    <th mat-header-cell *matHeaderCellDef> TimeOut </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field floatLabel="never">
                        <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'timeout'))" *ngIf="element.timeout>=1000" increase="1000" decrease="1000" [(value)]="element.timeout"></uix-mat-number-spinner>
                        <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'timeout'))" *ngIf="element.timeout<1000" increase="1" decrease="1" [(value)]="element.timeout"></uix-mat-number-spinner>
                        <input matInput type="number" placeholder="TimeOut" [value]="element.timeout" [(ngModel)]="element.timeout" (change)="onValueChange(element)">
                      </mat-form-field>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
              </mat-card>
              <mat-card>
                  <mat-card-title>
                    srs_gpulevel
                  </mat-card-title>
                  <table mat-table [dataSource]="gpusrs$|async" matSort class="srstable">
                      <!-- id Column -->
                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                    </ng-container>
                    <!-- min Column -->
                    <ng-container matColumnDef="min">
                      <th mat-header-cell *matHeaderCellDef> Min </th>
                      <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never">
                          <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'min'))" increase="1" decrease="1"  [(value)]="element.min"></uix-mat-number-spinner>
                          <input matInput type="number" placeholder="Min" [value]="element.min" [(ngModel)]="element.min" (change)="onValueChange(element)">
                        </mat-form-field>
                      </td>
                    </ng-container>
                  
                    <!-- max Column -->
                    <ng-container matColumnDef="max">
                      <th mat-header-cell *matHeaderCellDef> Max </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never">
                            <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'max'))" increase="1" decrease="1" [(value)]="element.max"></uix-mat-number-spinner>
                          <input matInput type="number" placeholder="Max" [value]="element.max" [(ngModel)]="element.max" (change)="onValueChange(element)">
                        </mat-form-field>
                      </td>
                    </ng-container>
                  
                    <!-- timeout Column -->
                    <ng-container matColumnDef="timeout">
                      <th mat-header-cell *matHeaderCellDef> TimeOut </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never">
                          <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'timeout'))" *ngIf="element.timeout>=1000" increase="1000" decrease="1000" [(value)]="element.timeout"></uix-mat-number-spinner>
                          <uix-mat-number-spinner (valueChange)="onValueChange(UpdateValue(element,$event,'timeout'))" *ngIf="element.timeout<1000" increase="1" decrease="1" [(value)]="element.timeout"></uix-mat-number-spinner>
                          <input matInput type="number" placeholder="TimeOut" [value]="element.timeout" [(ngModel)]="element.timeout" (change)="onValueChange(element)">
                        </mat-form-field>
                      </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  </table>
                </mat-card>
            </mat-expansion-panel>
            <mat-expansion-panel expanded="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  FPS
                </mat-panel-title>
                <mat-panel-description>
                  游戏帧率显示 -平均:{{fpsAverage|async}}- -方差:{{fpsVariance|async}}-
                </mat-panel-description>
              </mat-expansion-panel-header>
          
              <div echarts [options]="chartOption" (chartDataZoom)="onChartDataZoom()" [merge]="updateFpsOptions|async" class="chart-height" (chartInit)="onChartInit($event)"></div>
            </mat-expansion-panel>
            <mat-expansion-panel expanded="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  CPUFREQ
                </mat-panel-title>
                <mat-panel-description>
                  cpu频率显示
                </mat-panel-description>
              </mat-expansion-panel-header>
          
              <div echarts [options]="chartOption" [merge]="updateCpuOptions|async" class="chart-height" (chartInit)="onChartInit($event)"></div>
            </mat-expansion-panel>
          
            <mat-expansion-panel expanded="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  GPUFREQ
                </mat-panel-title>
                <mat-panel-description>
                  gpu频率显示
                </mat-panel-description>
              </mat-expansion-panel-header>
          
              <div echarts [options]="chartOption" [merge]="updateGpuOptions|async" class="chart-height" (chartInit)="onChartInit($event)"></div>
            </mat-expansion-panel>
          
            <mat-expansion-panel expanded="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  TEMP
                </mat-panel-title>
                <mat-panel-description>
                  cpu和主板温度显示
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div echarts [options]="chartOption" [merge]="updateTempOptions|async" class="chart-height" (chartInit)="onChartInit($event)"></div>
            </mat-expansion-panel>

          </mat-accordion>
        </mat-card-content>
        <mat-card-actions>
          <a mat-icon-button href="https://github.com/angular/angular" target="_blank">
            <mat-icon fontSet="fab" fontIcon="fa-github"></mat-icon>
          </a>
          <a mat-button href="https://angular.io/docs/ts/latest/" target="_blank">
            <mat-icon fontSet="fas" fontIcon="fa-book"></mat-icon>
            Docs
          </a>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
<span class="app-action" >
  <ngc-float-button icon="add">
      <ngc-float-item-button icon="refresh" content="重新开始" (click)="refresh()"></ngc-float-item-button>
      <ngc-float-item-button icon="save_alt" (click)="saveTheData()" content="保存当前数据"></ngc-float-item-button>
  </ngc-float-button>
  <button mat-fab color="primary" (click)="isZooming=isZooming?false:true"><mat-icon>{{isZooming?"play_arrow":"pause_arrow"}}</mat-icon></button>
</span>

